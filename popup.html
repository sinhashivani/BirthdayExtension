<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loyalty Form Filler</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>Loyalty Form Filler</h1>
            <div class="tab-container">
                <button class="tab-btn active" data-tab="profiles">Profiles</button>
                <button class="tab-btn" data-tab="tracker">Tracker</button>
                <button class="tab-btn" data-tab="settings">Settings</button>
            </div>
        </header>

        <main>
            <!-- Profiles Tab -->
            <section id="profiles" class="tab-content active">
                <div class="profile-selector">
                    <h2>Select Profile</h2>
                    <select id="profile-select">
                        <option value="">-- Select a profile --</option>
                    </select>
                    <button id="new-profile" class="btn">Create New</button>
                </div>

                <div class="profile-details">
                    <form id="profile-form">
                        <div class="form-group">
                            <label for="profile-name">Profile Name</label>
                            <input type="text" id="profile-name" required>
                        </div>
                        <div class="form-group">
                            <label for="first-name">First Name</label>
                            <input type="text" id="first-name" required>
                        </div>
                        <div class="form-group">
                            <label for="last-name">Last Name</label>
                            <input type="text" id="last-name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" required>
                        </div>
                        <div class="form-group">
                            <label for="birthdate">Birthday (MM/DD/YYYY)</label>
                            <input type="date" id="birthdate" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone">
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn primary">Save Profile</button>
                            <button type="button" id="delete-profile" class="btn danger">Delete Profile</button>
                        </div>
                    </form>
                </div>

                <div class="autofill-controls">
                    <h3>Autofill Controls</h3>
                    <div class="toggle-container">
                        <label for="autofill-toggle">Auto Fill Forms</label>
                        <label class="switch">
                            <input type="checkbox" id="autofill-toggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="toggle-container">
                        <label for="manual-override">Manual Override</label>
                        <label class="switch">
                            <input type="checkbox" id="manual-override">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <button id="fill-now" class="btn primary">Fill Form Now</button>
                    <button id="submit-form" class="btn primary">Submit Form</button>
                </div>
            </section>

            <!-- Tracker Tab -->
            <section id="tracker" class="tab-content">
                <div class="tracker-controls">
                    <h2>Submission Tracker</h2>
                    <div class="tracker-actions">
                        <button id="export-csv" class="btn">Export CSV</button>
                        <button id="export-json" class="btn">Export JSON</button>
                        <button id="clear-tracker" class="btn danger">Clear All</button>
                    </div>
                </div>

                <div class="tracker-table-container">
                    <table id="tracker-table">
                        <thead>
                            <tr>
                                <th>Website</th>
                                <th>Submission Date</th>
                                <th>Birthday Field</th>
                                <th>Reward Likelihood</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Settings Tab -->
            <section id="settings" class="tab-content">
                <h2>Settings</h2>

                <div class="settings-section">
                    <h3>Form Detection</h3>
                    <div class="form-group">
                        <label for="custom-keywords">Custom Field Keywords</label>
                        <textarea id="custom-keywords" rows="4"
                            placeholder="Add custom keywords separated by commas"></textarea>
                        <small>These keywords will be used to detect form fields in addition to the defaults.</small>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Privacy Settings</h3>
                    <div class="toggle-container">
                        <label for="data-encryption">Encrypt Stored Data</label>
                        <label class="switch">
                            <input type="checkbox" id="data-encryption" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="toggle-container">
                        <label for="show-consent">Show Consent Dialog</label>
                        <label class="switch">
                            <input type="checkbox" id="show-consent" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <button id="delete-all-data" class="btn danger">Delete All Data (GDPR)</button>
                </div>

                <div class="settings-section">
                    <h3>Accessibility</h3>
                    <div class="form-group">
                        <label for="font-size">Font Size</label>
                        <select id="font-size">
                            <option value="normal">Normal</option>
                            <option value="large">Large</option>
                            <option value="x-large">Extra Large</option>
                        </select>
                    </div>
                    <div class="toggle-container">
                        <label for="high-contrast">High Contrast Mode</label>
                        <label class="switch">
                            <input type="checkbox" id="high-contrast">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-actions">
                    <button id="save-settings" class="btn primary">Save Settings</button>
                    <button id="reset-settings" class="btn">Reset to Default</button>
                </div>
            </section>
        </main>

        <div id="status-message" class="status-message"></div>
    </div>

    <div id="consent-dialog" class="modal">
        <div class="modal-content">
            <h2>Confirm Form Submission</h2>
            <p>You are about to submit the following data to <span id="domain-name"></span>:</p>
            <div id="submission-preview"></div>
            <p>The system has detected the following fields:</p>
            <ul id="detected-fields"></ul>
            <div class="modal-actions">
                <button id="confirm-submit" class="btn primary">Submit Form</button>
                <button id="cancel-submit" class="btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>

</html>